export component AppMenuSeparator inherits VerticalLayout {
    height: 8px;
    alignment: center;

    Rectangle {
        width: parent.width - 16px;
        height: 1px;
        background: #E0E0E0;
        opacity: 0.8;
    }
}

export component AppMenuItem inherits TouchArea {
    in property <string> title;

    height: 32px;
    mouse-cursor: MouseCursor.pointer;

    rect := Rectangle {
        height: parent.height;
        width: parent.width;
        border-radius: 4px;

        Text {
            text: root.title;
            color: #333333;
            font-size: 14px;
            font-weight: 400;
            vertical-alignment: center;
            horizontal-alignment: left;
            x: 12px;
        }
    }

    states [
        hover when root.has-hover: {
            rect.background: #F5F5F5;
        }
    ]
}

export component AppMenu inherits Rectangle {
    in property <string> title;
    height: 32px;
    width: max(title-text.preferred-width + 20px, 60px);

    menu := TouchArea {
        mouse-cursor: MouseCursor.pointer;
        height: parent.height;
        width: root.width;

        bg := Rectangle {
            width: parent.width;
            height: parent.height;
            border-radius: 4px;
            background: transparent;

            title-text := Text {
                text: root.title;
                color: #333333;
                font-size: 14px;
                font-weight: 400;
                vertical-alignment: center;
                horizontal-alignment: center;
            }
        }

        states [
            hover when self.has-hover: {
                bg.background: #F5F5F5;
            }
        ]

        clicked => {
            popup.show()
        }
    }

    popup := PopupWindow {
        x: menu.x;
        y: menu.y + menu.height + 2px;
        width: max(160px, self.preferred-width);

        Rectangle {
            width: parent.width;
            background: white;
            border-radius: 6px;
            drop-shadow-blur: 8px;
            drop-shadow-color: #00000020;
            drop-shadow-offset-y: 2px;
            border-width: 1px;
            border-color: #E0E0E0;

            VerticalLayout {
                padding: 4px;
                spacing: 0px;

                @children
            }
        }
    }
}

export component AppMenuBar inherits Rectangle {
    background: #FAFAFA;
    border-width: 1px;
    border-color: #E0E0E0;
    height: 40px;

    Rectangle {
        width: parent.width;
        height: 1px;
        y: parent.height - 1px;
        background: #E0E0E0;
    }

    HorizontalLayout {
        spacing: 0px;
        padding-left: 8px;
        padding-right: 8px;
        padding-top: 4px;
        padding-bottom: 4px;
        alignment: start;

        @children
    }
}
